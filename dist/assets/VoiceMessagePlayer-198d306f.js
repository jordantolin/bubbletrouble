import{r as c,R as r}from"./index-daaa1277.js";const x=({url:d,isPlaying:a,onPlay:i,onPause:o,heights:m=[],width:u=120,barWidth:f=4,spacing:E=2})=>{const t=c.useRef(null),[h,l]=c.useState(0);c.useEffect(()=>{const e=t.current;if(!e)return;const s=()=>{l(e.currentTime/e.duration)},n=()=>{l(0),o()};return e.addEventListener("timeupdate",s),e.addEventListener("ended",n),()=>{e.removeEventListener("timeupdate",s),e.removeEventListener("ended",n)}},[o]),c.useEffect(()=>{t.current&&(a?t.current.play().catch(e=>console.error("Errore audio:",e)):t.current.pause())},[a]);const p=()=>{a?o():i()};return r.createElement("div",{className:"flex items-center space-x-2"},r.createElement("button",{onClick:p,className:"text-yellow-600 hover:text-yellow-800 text-xl"},a?"⏸️":"▶️"),r.createElement("div",{className:"relative flex items-end h-8",style:{width:u}},m.map((e,s)=>{const n=Math.max(4,e*(.5+.5*h));return r.createElement("div",{key:s,className:"bg-yellow-500 rounded-sm",style:{width:f,height:`${n}px`,marginRight:E}})})),r.createElement("audio",{ref:t,src:d,preload:"auto",className:"hidden"}))};export{x as default};
